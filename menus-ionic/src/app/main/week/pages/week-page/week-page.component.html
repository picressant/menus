<ion-header [translucent]="true">
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>Planning</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
    <div id="container">

        <ng-container *ngIf="selectedTab === footerDay.selectedTab">
            <h2 class="ion-margin lunch-margin">Midi</h2>
            <app-week-meal-card [meal]="todayLunch" (click)="goToRecipe(todayLunch)"></app-week-meal-card>

            <h2 class="ion-margin dinner-margin">Soir</h2>
            <app-week-meal-card [meal]="todayDinner" (click)="goToRecipe(todayDinner)"></app-week-meal-card>
        </ng-container>

        <ng-container *ngIf="selectedTab === footerWeek.selectedTab">
            <ion-reorder-group (ionItemReorder)="doReorder($event)" disabled="false">
                <!-- Default reorder icon, end aligned items -->
                <ion-item *ngFor="let weekMeal of meals; let i = index">
                    <div class="meal-wrapper">
                        <div class="meal-day">{{getDay(i)}}</div>
                        <div class="meal-detail">
                        <span class="meal-recipe">
                            {{weekMeal?.recipe?.name}}
                        </span>
                            <span class="meal-side" *ngIf="weekMeal?.sideDishes.length > 0">
                            (
                            <span *ngFor="let side of weekMeal?.sideDishes; let i = index">
                              {{ side.name }}<span *ngIf="i < weekMeal?.sideDishes.length-1"> - </span>
                            </span>
                            )
                      </span>
                        </div>
                    </div>
                    <ion-reorder slot="end"></ion-reorder>
                </ion-item>
            </ion-reorder-group>
        </ng-container>
        <ng-container *ngIf="selectedTab === footerGrocery.selectedTab">
            <app-week-grocery-list [meals]="meals"></app-week-grocery-list>
        </ng-container>
    </div>
</ion-content>

<app-footer-tab selectedTab="{{footerDay.selectedTab}}" (elementSelect)="selectedTab = $event" [footerElements]="[footerDay, footerWeek, footerGrocery]">
</app-footer-tab>
